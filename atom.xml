<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Fox Home</title>
  
  <subtitle>清疚</subtitle>
  <link href="https://foolishfox.cn/atom.xml" rel="self"/>
  
  <link href="https://foolishfox.cn/"/>
  <updated>2021-04-17T12:01:02.420Z</updated>
  <id>https://foolishfox.cn/</id>
  
  <author>
    <name>liuyihui</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>建国以来土地政策的变化</title>
    <link href="https://foolishfox.cn/posts/202104-land.html"/>
    <id>https://foolishfox.cn/posts/202104-land.html</id>
    <published>2021-04-14T09:38:51.000Z</published>
    <updated>2021-04-17T12:01:02.420Z</updated>
    
    <content type="html"><![CDATA[<p>  我国在相当长的时间内是一个传统的农业国，哪怕工业化之后，农民仍然占据人口的大多数，土地依旧是百姓关注的焦点。而且土地还关系的粮食生产的多少，直接影响国家的安危。</p><span id="more"></span><p>  从土地革命战争到家庭联产承包制，中国共产党的土地政策在大半个世纪的时间里不断变化着。最初苏区主张“耕地农有”，即谁耕种的土地归谁所有；抗战时期为了巩固抗日民族统一战线在未进行土改的地区推行“减租减息”政策，即“地主减租减息，农民交租交息”；建国前后的几年内，在全国范围内进行了土改，实现“耕者有其田”的目标；社会主义改造后的土地归为劳动群众集体所有，直至改革开放，推行家庭联产承包责任制。</p><p>  在这些复杂、曲折的变化背后都能看出中国共产党的宏大目标。无论是实现中国农民千年来拥有土地的梦想，是集中力量发展工业建设国家，还是发展经济提高人民生活水平，无不反映出中共高层对国家民族繁荣富强理想的构建和对中国现实不断适应和调整的过程。下面主要介绍土改后我党土地政策的变化。</p><p>一．土地集体所有</p><p>  1953年开始了农业合作化的土地制度，是社会主义三大改造的一部分。农业合作化的实质是通过互助合作的形式将生产资料私有制为基础的小私有经济改造成生产资料公有为基础的合作经济的过程。农业合作化先后经历了具有社会主义萌芽的互助组、土地入股统一经营的初级阶段和土地、耕畜、农具等折价归集体所有的高级阶段。</p><p>  1956年基本完成农业社会主义改造，1958年3月中共中央通过了《关于把小型的农业合作社适当地合并为大社的意见》，鼓励“有条件的地方，把小型的农业合作社有计划地适当地合并为大型的合作社“，这是人民公社化的前奏。中共中央通过了《关于在农村建立人民公社问题的决议》，其本质特征是规模“巨型化”和实行“政社合一”的管理体制。</p><p>  总的来说，农业的社会主义改造和人民公社化解决了农村贫富分化现象重新出现、个体农业不能满足工业需求、个体农业难为工业提供资金等问题，人民公社20年，全国人口增长近2.8亿，为工业化、现代化提供了8000多亿的资金，修建了价值约180万亿的水利工程，功在当代，利在千秋。但是在这个过程也出现了浮夸风、共产风、一刀切和平均主义的隐患，为后来人民公社的取缔埋下了伏笔。</p><p>二．家庭联产承包责任制</p><p>  文革后的短时间内，全国经济不振，长期的平均主义政策抑制了农民的劳动积极性，致使农业生产长期停滞不前，农民生活质量得不到明显改善，再加上天灾不断，迫使中共对土地政策做出了调整。</p><p>  以安徽凤阳小岗村为代表的包产到户掀起了土地政策变革的大幕。1980年9月，中央下发《关于进一步加强和完善农业生产责任制的几个问题》的文件，明确在坚持土地集体所有的前提下，“可以包产到户，也可以包干到户”，在1982年颁布的中央1号文件中，中央强调，“包产到户”“包干到户”“都是建立在土地公有制基础上的，是社会主义农业经济的组成部分”。</p><p>  家庭联产承包责任制总体上而言，改变了我国农村旧的经营管理体制，解放了农村生产力，调动了广大农民的生产经营积极性。但是家庭分散经营，经营规模小、风险大，抗风险能力差，难以形成规模经济效益，而且农民不能自由处置土地，限制了农民的择业自由，另外分散化也导致农村基础设施难以建设，农业生产长期高成本。</p><p>三．90年代后的土地政策</p><p>  为打破这种制度上的障碍，推动农业发展走向规模化、现代化，提升农业的市场竞争力，中央在各地积极探索多种土地流转形式的基础上，开始从政策上积极鼓励、支持和引导承包农户进行土地流转。</p><p>  1992年邓小平同志“南巡讲话”后, 国家确立了建设社会主义市场经济的改革方针, 农业与农村经济发展掀起了新浪潮。2002年，党的十六大报告强调，有条件的地方，农民可以进行土地承包经营权流转；2003年，《农村土地承包法》明确规定，农民可以以出租、股份合作等形式进行土地承包经营权流转；2013年，党的十八届三中全会鼓励承包经营权“向专业大户、家庭农场、农民合作社、农业企业流转”，鼓励发展多种形式的规模经营。2016年10月，党中央颁布了《关于完善农村土地所有权承包权经营权分置办法的意见》，进一步明确了农村土地“三权分置”的改革思路和具体做法。2018年1月，在《关于实施乡村振兴战略的意见》中，党中央进一步明确，“完善农村承包地‘三权分置’制度”。</p><p>四．总结</p><p>  回顾土地政策的发展演变历史，土地政策的变革是毛泽东思想和中国特色社会主义的实践与证明。毛泽东指出：“当革命的形势己经改变的时候，革命的策略、革命的领导方式，也必须跟着改变。”邓小平思想中关于3个有利于的说法，也可以延伸出一个标准：是否有利于解放和发展生产力是衡量中国一切政党政策及其实践的根本标准。三个代表重要思想也提出“中国共产党始终代表中国先进生产力的发展要求，就是要不断地解放和发展生产力”。</p><div style="max-width: 900px;margin: 0 auto;">    <div id="food_container" style="max-width: 900px;height:400px;"></div></div><script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script><script type="text/javascript">    var food = echarts.init(document.getElementById('food_container'));    var base = new Date(), date = [];var data = [395.95, 395.95, 395.95, 395.95, 395.95, 443.93, 443.93, 443.93, 443.93, 443.93, 494.65, 494.65, 494.65, 684.31, 684.31, 684.31, 684.31, 684.31, 838.44, 838.44, 838.44, 838.44, 838.44, 1020.46, 1020.46, 1020.46, 1117.50, 1325.30, 1454.10, 1635.87, 1865.30, 2074.47, 2380.15, 2506.40, 2771.75, 3160.49, 3666.89, 4100.58, 4954.30, 5146.43, 5588.02, 6605.14, 9169.22, 11884.60, 13539.80, 13852.50, 14241.90, 14106.20, 13873.60, 14462.79, 14931.50, 14870.11, 18138.36, 19613.37, 21522.28, 24444.68, 27679.94, 29938.81, 35909.07, 40339.62, 44845.72, 48943.94, 51851.12, 54205.34, 55659.89, 58059.76, 61452.60, 66066.45];    var dyear = base.getFullYear(), dmonth = base.getMonth()+1;    var year = 1952;    while ( year<dyear ) {        date.push([year].join('/'));        year += 1;    }    var food_option = {        title: { text: '我国农业总产值', subtext: '自1952年起，数据来源国家统计局' },        tooltip: { trigger: 'axis' },        xAxis: { type: 'category', data: date },        yAxis: { type: 'value' },        dataZoom: [{}],        series: [{            type: 'line',            data: data        }]    };food.setOption(food_option);</script><p>  土地政策的变革证明：解放和发展生产力是制定和发展完善农村土地政策的必由之路。只要党的农村土地政策真正做到了解放生产力，发展生产力，农村就兴旺发达；忽略生产力的解放和发展，就会遇到坎坷和曲折。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;  我国在相当长的时间内是一个传统的农业国，哪怕工业化之后，农民仍然占据人口的大多数，土地依旧是百姓关注的焦点。而且土地还关系的粮食生产的多少，直接影响国家的安危。&lt;/p&gt;</summary>
    
    
    
    <category term="随记" scheme="https://foolishfox.cn/categories/%E9%9A%8F%E8%AE%B0/"/>
    
    
    <category term="马列毛邓" scheme="https://foolishfox.cn/tags/%E9%A9%AC%E5%88%97%E6%AF%9B%E9%82%93/"/>
    
  </entry>
  
  <entry>
    <title>宝塔Nginx反向代理导致css/js/png等重定向过多</title>
    <link href="https://foolishfox.cn/posts/202104-redirect.html"/>
    <id>https://foolishfox.cn/posts/202104-redirect.html</id>
    <published>2021-04-11T01:48:38.000Z</published>
    <updated>2021-04-12T12:58:40.647Z</updated>
    
    <content type="html"><![CDATA[        <h1 id="前言"   >          <a href="#前言" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1>      <p>  在之前的文章<a href="/posts/move.html">博客服务器迁移过程</a>中介绍了<code>footprint</code>打造旅行地图，然后使用Nginx反向代理，将<code>ff.cn/travel</code>指向<code>127.0.0.1:886</code>，原本访问一切正常，但是昨天碰到了一个新的问题：css/js/png等文件请求301重定向过多，花了蛮久才解决问题，所以记下来提醒自己。</p><span id="more"></span>        <h1 id="复现"   >          <a href="#复现" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#复现"></a> 复现</h1>      <p>  在网站<code>/travel/</code>目录下创建<code>hello.js</code>文件，请求<code>ff.cn/travel/hello.js</code>，显示<code>ff.cn 将您重定向的次数过多</code>。<br />        <img   class="lazyload lazyload-gif"          src="/images/loading.svg" data-src="https://img.foolishfox.cn/images/2021/04/20210412203604.png"  alt="" />      <br />  在开发者模式下查看网络请求，发现服务器将<code>ff.cn/travel/hello.js</code>重定向给自身，导致出现死循环。<br />        <img   class="lazyload lazyload-gif"          src="/images/loading.svg" data-src="https://img.foolishfox.cn/images/2021/04/20210412203648.png"  alt="" />      </p>        <h1 id="解决"   >          <a href="#解决" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#解决"></a> 解决</h1>      <ol><li>浏览器提示清除cookie：</li></ol><blockquote><p>当相应网页尝试对您进行重定向的次数过多时，您就会看到这条错误消息。<br />有时，网页打不开是因为 Cookie 出问题了。要修正该错误，请尝试清除 Cookie。</p></blockquote>    <div class="note-plugin danger">      <span class="note-plugin__icon note-plugin__icon--danger">              <i class="fas fa-minus-circle"></i>            </span>      <p>无作用</p>    </div>  <ol start="2"><li>刷新DNS/更换DNS<br />  重定向过多可能发生了DNS劫持，可以刷新DNS或者换一个DNS地址。</li></ol>    <div class="note-plugin danger">      <span class="note-plugin__icon note-plugin__icon--danger">              <i class="fas fa-minus-circle"></i>            </span>      <p>无作用</p>    </div>  <ol start="3"><li>SSL证书问题<br />  如果开启了强制访问HTTPS或者SSL证书更换，可能导致前后端接口不一致，陷入反复跳转，造成重定向过多，可以重置SSL证书或者重启强制访问HTTPS。</li></ol>    <div class="note-plugin danger">      <span class="note-plugin__icon note-plugin__icon--danger">              <i class="fas fa-minus-circle"></i>            </span>      <p>无作用</p>    </div>          <h1 id="分析"   >          <a href="#分析" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#分析"></a> 分析</h1>      <p>  查看Nginx日志，发现浏览器发出请求<code>ff.cn/travel/hello.js</code>时，本应该转给<code>127.0.0.1:886/hello.js</code>，然而日志中显示回应请求的链接是<code>127.0.0.1:80/travel/hello.js</code>，怀疑是代理设置出现问题。<br />  查看<code>ff.cn</code>的配置文件如下：</p><figure class="highlight plain"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">server</span><br><span class="line">&#123;</span><br><span class="line">    listen 80;</span><br><span class="line">  listen 443 ssl http2;</span><br><span class="line">    server_name ff.cn;</span><br><span class="line">    index index.php index.html index.htm default.php default.htm default.html;</span><br><span class="line">    root &#x2F;ff.cn;</span><br><span class="line">    </span><br><span class="line">    #SSL-START SSL相关配置，请勿删除或修改下一行带注释的404规则</span><br><span class="line">    #error_page 404&#x2F;404.html;</span><br><span class="line">    #HTTP_TO_HTTPS_START</span><br><span class="line">    if ($server_port !~ 443)&#123;</span><br><span class="line">        rewrite ^(&#x2F;.*)$ https:&#x2F;&#x2F;$host$1 permanent;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #SSL-END</span><br><span class="line">    </span><br><span class="line">    #ERROR-PAGE-START  错误页配置，可以注释、删除或修改</span><br><span class="line">    #error_page 404 &#x2F;404.html;</span><br><span class="line">    #error_page 502 &#x2F;502.html;</span><br><span class="line">    #ERROR-PAGE-END</span><br><span class="line">    </span><br><span class="line">    #PHP-INFO-START  PHP引用配置，可以注释或修改</span><br><span class="line">    #清理缓存规则</span><br><span class="line"></span><br><span class="line">    location ~ &#x2F;purge(&#x2F;.*) &#123;</span><br><span class="line">        proxy_cache_purge cache_one $host$1$is_args$args;</span><br><span class="line">        #access_log  &#x2F;www&#x2F;wwwlogs&#x2F;ff.cn_purge_cache.log;</span><br><span class="line">    &#125;</span><br><span class="line">    #引用反向代理规则，注释后配置的反向代理将无效</span><br><span class="line">    include &#x2F;www&#x2F;server&#x2F;panel&#x2F;vhost&#x2F;nginx&#x2F;proxy&#x2F;ff.cn&#x2F;*.conf;</span><br><span class="line"></span><br><span class="line">    include enable-php-00.conf;</span><br><span class="line">    #PHP-INFO-END</span><br><span class="line">    </span><br><span class="line">    #REWRITE-START URL重写规则引用,修改后将导致面板设置的伪静态规则失效</span><br><span class="line">    include &#x2F;www&#x2F;server&#x2F;panel&#x2F;vhost&#x2F;rewrite&#x2F;ff.cn.conf;</span><br><span class="line">    #REWRITE-END</span><br><span class="line">    </span><br><span class="line">    #禁止访问的文件或目录</span><br><span class="line">    location ~ ^&#x2F;(\.user.ini|\.htaccess|\.git|\.svn|\.project|LICENSE|README.md)</span><br><span class="line">    &#123;</span><br><span class="line">        return 404;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    #一键申请SSL证书验证目录相关设置</span><br><span class="line">    location ~ \.well-known&#123;</span><br><span class="line">        allow all;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    access_log  &#x2F;www&#x2F;wwwlogs&#x2F;ff.cn.log;</span><br><span class="line">    error_log  &#x2F;www&#x2F;wwwlogs&#x2F;ff.cn.error.log;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><figure class="highlight plain"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#PROXY-START&#x2F;travel&#x2F;</span><br><span class="line">location  ~* \.(php|jsp|js|css|png|cgi|asp|aspx)$</span><br><span class="line">&#123;</span><br><span class="line">    proxy_pass http:&#x2F;&#x2F;127.0.0.1;</span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header REMOTE-HOST $remote_addr;</span><br><span class="line">&#125;</span><br><span class="line">location &#x2F;travel&#x2F;</span><br><span class="line">&#123;</span><br><span class="line">    proxy_pass http:&#x2F;&#x2F;127.0.0.1:886&#x2F;;</span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header REMOTE-HOST $remote_addr;</span><br><span class="line">    </span><br><span class="line">    add_header X-Cache $upstream_cache_status;</span><br><span class="line">    </span><br><span class="line">    #Set Nginx Cache</span><br><span class="line">    add_header Cache-Control no-cache;</span><br><span class="line">&#125;</span><br><span class="line">#PROXY-END&#x2F;travel&#x2F;</span><br></pre></td></tr></table></div></figure><p>  可以发现，问题出现在了代理配置中的<code>location ~* \.(php|jsp|js|css|png|cgi|asp|aspx)$</code>这一块。当接受到<code>ff.cn/travel/hello.js</code>请求时，根据代理配置进行转发，js/css/png等文件匹配上了第一条规则，于是请求被发往<code>127.0.0.1:80/travel/hello.js</code>，也就刚好是<code>ff.cn/travel/hello.js</code>自身，造成了死循环。将这一片段或者<code>js|css|png</code>删除即可解决</p>        <h1 id="后记"   >          <a href="#后记" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#后记"></a> 后记</h1>      <p>  宝塔确实有点诡异，上一秒还好好访问的，结果突然就重定向了。以后碰到问题多看日志，更容易发现问题所在的地方。</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;   &gt;
          &lt;a href=&quot;#前言&quot; class=&quot;heading-link&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
      
&lt;p&gt;  在之前的文章&lt;a href=&quot;/posts/move.html&quot;&gt;博客服务器迁移过程&lt;/a&gt;中介绍了&lt;code&gt;footprint&lt;/code&gt;打造旅行地图，然后使用Nginx反向代理，将&lt;code&gt;ff.cn/travel&lt;/code&gt;指向&lt;code&gt;127.0.0.1:886&lt;/code&gt;，原本访问一切正常，但是昨天碰到了一个新的问题：css/js/png等文件请求301重定向过多，花了蛮久才解决问题，所以记下来提醒自己。&lt;/p&gt;</summary>
    
    
    
    <category term="博客" scheme="https://foolishfox.cn/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="Nginx" scheme="https://foolishfox.cn/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>使用Echarts绘制名侦探柯南人物关系图</title>
    <link href="https://foolishfox.cn/posts/202104-conan.html"/>
    <id>https://foolishfox.cn/posts/202104-conan.html</id>
    <published>2021-04-09T04:24:55.000Z</published>
    <updated>2021-04-11T01:54:50.620Z</updated>
    
    <content type="html"><![CDATA[        <h1 id="前言"   >          <a href="#前言" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1>      <p>  《名侦探柯南绯色的子弹》就要上映了，npy想要和我一起去看，但是她又搞不懂人物关系，所以就用<code>Echarts</code>做一个柯南的人物关系表了解一下。<br />  <code>ECharts</code>是使用<code>JavaScript</code>实现的开源可视化库，可以做出很多精巧的图片，最初由百度团队开源，后于2018年初捐赠给Apache基金会，成为ASF孵化级项目。</p><span id="more"></span>        <h1 id="步骤"   >          <a href="#步骤" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#步骤"></a> 步骤</h1>      <ol><li>引入<code>jquery</code>和<code>echarts</code>的js文件</li></ol><figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/echarts/5.0.2/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></div></figure><ol start="2"><li>获取<span class="exturl"><a class="exturl__link"   href="https://cdn.jsdelivr.net/gh/YiHui-Liu/Fox-Home-CDN/Detective-Conan.json" >人物关系json文件</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br />  json文件中主要分为3部分，分别是<code>nodes</code>表示人物，<code>links</code>表示关系连接，<code>categories</code>表示阵营/类别。</li></ol><ul><li>nodes</li></ul><figure class="highlight json"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 必填，二选一</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;0&quot;</span>,   <span class="comment">// 人物id</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;柯南&quot;</span>,   <span class="comment">// 人物名称</span></span><br><span class="line">    <span class="comment">// 选填</span></span><br><span class="line">    <span class="attr">&quot;symbolSize&quot;</span>: <span class="number">50</span>,   <span class="comment">// 点的大小</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span>: <span class="number">100</span>,   <span class="comment">// 力引导布局(force)中连线长度</span></span><br><span class="line">    <span class="attr">&quot;category&quot;</span>: <span class="number">0</span>,   <span class="comment">// 人物类别</span></span><br><span class="line">    <span class="attr">&quot;itemStyle&quot;</span>: &#123;   <span class="comment">// 自定义样式</span></span><br><span class="line">        <span class="attr">&quot;normal&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;color&quot;</span>: <span class="string">&quot;blue&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><ul><li>links</li></ul><figure class="highlight json"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 必填</span></span><br><span class="line">    <span class="attr">&quot;source&quot;</span>: <span class="string">&quot;1&quot;</span>,   <span class="comment">// 源节点名称或者id</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;0&quot;</span>,   <span class="comment">// 目标节点名称或者id</span></span><br><span class="line">    <span class="comment">// 选填</span></span><br><span class="line">    <span class="attr">&quot;value&quot;</span>: <span class="number">100</span>,   <span class="comment">// 力引导布局(force)中连线长度</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;伙伴&quot;</span>   <span class="comment">// 关系名称</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><ul><li>categories</li></ul><figure class="highlight json"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 必填</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;黑衣组织&quot;</span>,   <span class="comment">// 类别名称</span></span><br><span class="line">    <span class="comment">// 选填</span></span><br><span class="line">    <span class="attr">&quot;symbol&quot;</span>: <span class="string">&quot;circle&quot;</span>,   <span class="comment">// 类目节点标记的图形</span></span><br><span class="line">    <span class="attr">&quot;symbolSize&quot;</span>: <span class="number">10</span>,   <span class="comment">// 类目节点的默认大小</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><ol start="3"><li>配置前端</li></ol><figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;conan_container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></div></figure><figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> conan = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">&quot;conan_container&quot;</span>));</span><br><span class="line">    <span class="keyword">var</span> option;</span><br><span class="line">    conan.showLoading();</span><br><span class="line">    $.getJSON(<span class="string">&#x27;https://cdn.jsdelivr.net/gh/YiHui-Liu/Fox-Home-CDN/Detective-Conan.json&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">graph</span>) </span>&#123;</span><br><span class="line">        conan.hideLoading();</span><br><span class="line">        option = &#123;</span><br><span class="line">            <span class="comment">// 图表标题与位置</span></span><br><span class="line">            title: &#123;</span><br><span class="line">                text: <span class="string">&#x27;Detective Conan&#x27;</span>,</span><br><span class="line">                top: <span class="string">&#x27;bottom&#x27;</span>,</span><br><span class="line">                left: <span class="string">&#x27;right&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            tooltip: &#123;&#125;,</span><br><span class="line">            legend: [&#123;</span><br><span class="line">                <span class="comment">// selectedMode: &#x27;single&#x27;,</span></span><br><span class="line">                data: graph.categories.map(<span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> a.name;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;],</span><br><span class="line">            animationDuration: <span class="number">1500</span>,</span><br><span class="line">            animationEasingUpdate: <span class="string">&#x27;quinticInOut&#x27;</span>,</span><br><span class="line">            series: [</span><br><span class="line">                &#123;</span><br><span class="line">                    name: <span class="string">&#x27;Detective Conan&#x27;</span>,</span><br><span class="line">                    type: <span class="string">&#x27;graph&#x27;</span>,</span><br><span class="line">                    <span class="comment">// 布局，none使用节点中提供的x、y作为节点的位置；circular采用环形布局；force采用力引导布局</span></span><br><span class="line">                    layout: <span class="string">&#x27;circular&#x27;</span>,</span><br><span class="line">                    data: graph.nodes,</span><br><span class="line">                    links: graph.links,</span><br><span class="line">                    categories: graph.categories,</span><br><span class="line">                    symbolSize: <span class="number">15</span>,</span><br><span class="line">                    value: <span class="number">30</span>,</span><br><span class="line">                    roam: <span class="literal">true</span>,</span><br><span class="line">                    label: &#123;</span><br><span class="line">                        show: <span class="literal">true</span>,</span><br><span class="line">                        position: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">                        formatter: <span class="string">&#x27;&#123;b&#125;&#x27;</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    labelLayout: &#123;</span><br><span class="line">                        hideOverlap: <span class="literal">true</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    lineStyle: &#123;</span><br><span class="line">                        color: <span class="string">&#x27;source&#x27;</span>,</span><br><span class="line">                        curveness: <span class="number">0.3</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="comment">// 突出显示有连接的人物</span></span><br><span class="line">                    emphasis: &#123;</span><br><span class="line">                        focus: <span class="string">&#x27;adjacency&#x27;</span>,</span><br><span class="line">                        lineStyle: &#123;</span><br><span class="line">                            width: <span class="number">10</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="comment">// 缩放限制</span></span><br><span class="line">                    scaleLimit: &#123;</span><br><span class="line">                        min: <span class="number">0.6</span>,</span><br><span class="line">                        max: <span class="number">3</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// 显示links的名称</span></span><br><span class="line">                    <span class="comment">// edgeSymbolSize: [4, 10],</span></span><br><span class="line">                    <span class="comment">// edgeLabel: &#123;</span></span><br><span class="line">                    <span class="comment">//     show: true,</span></span><br><span class="line">                    <span class="comment">//     formatter: function (x) &#123;</span></span><br><span class="line">                    <span class="comment">//         return x.data.name;</span></span><br><span class="line">                    <span class="comment">//     &#125;,</span></span><br><span class="line">                    <span class="comment">//     textStyle: &#123;</span></span><br><span class="line">                    <span class="comment">//         fontSize: 20</span></span><br><span class="line">                    <span class="comment">//     &#125;</span></span><br><span class="line">                    <span class="comment">// &#125;,</span></span><br><span class="line">                    <span class="comment">// 力引导布局的设置</span></span><br><span class="line">                    <span class="comment">// force: &#123;</span></span><br><span class="line">                    <span class="comment">//     repulsion: 2500,</span></span><br><span class="line">                    <span class="comment">//     edgeLength: [10, 50]</span></span><br><span class="line">                    <span class="comment">// &#125;,</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;;</span><br><span class="line">        conan.setOption(option);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">if</span> (option &amp;&amp; <span class="keyword">typeof</span> option === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">        conan.setOption(option);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>        <h1 id="效果展示"   >          <a href="#效果展示" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#效果展示"></a> 效果展示</h1>      <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script><script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/echarts/5.0.2/echarts.min.js"></script><div id="conan_container" style="max-width: 900px;height: 600px;"></div><script type="text/javascript">    var conan = echarts.init(document.getElementById("conan_container"));    var option;    conan.showLoading();    $.getJSON('https://cdn.jsdelivr.net/gh/YiHui-Liu/Fox-Home-CDN/Detective-Conan.json', function (graph) {        conan.hideLoading();        option = {            title: {                text: 'Detective Conan',                top: 'bottom',                left: 'right'            },            tooltip: {                formatter: function (x) {                    return x.data.des;                }            },            legend: [{                // selectedMode: 'single',                data: graph.categories.map(function (a) {                    return a.name;                })            }],            animationDuration: 1500,            animationEasingUpdate: 'quinticInOut',            series: [                {                    name: 'Detective Conan',                    type: 'graph',                    layout: 'circular',                    data: graph.nodes,                    links: graph.links,                    categories: graph.categories,                    symbolSize: 15,                    value: 30,                    roam: true,                    label: {                        show: true,                        position: 'right',                        formatter: '{b}'                    },                    labelLayout: {                        hideOverlap: true                    },                    lineStyle: {                        color: 'source',                        curveness: 0.3                    },                    emphasis: {                        focus: 'adjacency',                        lineStyle: {                            width: 10                        }                    },                    scaleLimit: {                        min: 0.6,                        max: 3                    }                }            ]        };        conan.setOption(option);    });    if (option && typeof option === 'object') {        conan.setOption(option);    }</script>        <h1 id="参考资料"   >          <a href="#参考资料" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1>      <ol><li><span class="exturl"><a class="exturl__link"   href="https://blog.csdn.net/weixin_38409915/article/details/114369054" >人物关系图谱:ECharts 实现</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li><li><span class="exturl"><a class="exturl__link"   href="https://echarts.apache.org/examples/zh/index.html" >Echarts文档</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li><li><span class="exturl"><a class="exturl__link"   href="https://echarts.apache.org/zh/option.html" >Echarts示例</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li></ol>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;   &gt;
          &lt;a href=&quot;#前言&quot; class=&quot;heading-link&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
      
&lt;p&gt;  《名侦探柯南绯色的子弹》就要上映了，npy想要和我一起去看，但是她又搞不懂人物关系，所以就用&lt;code&gt;Echarts&lt;/code&gt;做一个柯南的人物关系表了解一下。&lt;br /&gt;
  &lt;code&gt;ECharts&lt;/code&gt;是使用&lt;code&gt;JavaScript&lt;/code&gt;实现的开源可视化库，可以做出很多精巧的图片，最初由百度团队开源，后于2018年初捐赠给Apache基金会，成为ASF孵化级项目。&lt;/p&gt;</summary>
    
    
    
    <category term="Javascript" scheme="https://foolishfox.cn/categories/Javascript/"/>
    
    
    <category term="Echarts" scheme="https://foolishfox.cn/tags/Echarts/"/>
    
    <category term="名侦探柯南" scheme="https://foolishfox.cn/tags/%E5%90%8D%E4%BE%A6%E6%8E%A2%E6%9F%AF%E5%8D%97/"/>
    
  </entry>
  
</feed>
