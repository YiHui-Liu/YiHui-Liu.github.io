<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Fox Home</title>
  
  <subtitle>清疚</subtitle>
  <link href="https://foolishfox.cn/atom.xml" rel="self"/>
  
  <link href="https://foolishfox.cn/"/>
  <updated>2021-05-29T05:31:13.409Z</updated>
  <id>https://foolishfox.cn/</id>
  
  <author>
    <name>liuyihui</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>星座故事 | 大熊座与小熊座</title>
    <link href="https://foolishfox.cn/posts/202105-constellation1.html"/>
    <id>https://foolishfox.cn/posts/202105-constellation1.html</id>
    <published>2021-05-28T16:05:20.000Z</published>
    <updated>2021-05-29T05:31:13.409Z</updated>
    
    <content type="html"><![CDATA[        <h2 id="传说"   >          <a href="#传说" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#传说"></a> 传说</h2>      <p>  在古代希腊的神话故事中，大熊是温柔美丽的少女卡力斯托的化身。传说卡力斯托被众神之王宙斯所爱，生下了儿子阿卡斯。宙斯的妻子赫拉知道后非常气愤，她决定要用法力对卡力斯托进行惩罚，于是她把卡力斯托白暂的双臂变成了长满黑毛的利爪，娇红的双唇变成了血盆似的大口，让卡力斯托变成了一只大母熊。后来宙斯知道了，就把大熊提升到天上，成为大熊星座。</p><span id="more"></span><p>  而小熊是大熊卡力斯托的儿子阿卡斯。卡力斯托被宙斯的妻子赫拉所害变成一只大熊后，在悲哀和痛苦中度过了15个年头，这时卡力斯托的儿子阿卡斯长大了，成为一名英俊出色的猎手。一天，阿卡斯在林中打猎，被他的母亲卡力斯托看见了，她忘记了自己已经是熊身，便伸开双臂准备拥抱亲爱的孩子。但阿卡斯不知道这只大熊是自己的母亲，他急忙向大熊举起手中的长枪准备射击。幸亏宙斯，也就是阿卡斯的父亲，在天上看见了，他担心阿卡斯会杀死母亲，便用法术把阿卡斯也变成了一只小熊，并将母子俩一起都提升到天上，成为大熊座和小熊座。</p><p>  赫拉看到卡力斯托母子都被弄到天上，嫉妒之心油然而生。 她去请自己的哥哥海神波塞冬帮忙：永远不让卡力斯托母子从天上下海来休息喝水。于是，母子俩只得永远在北极上空转圈，不能下海。尽管如此，赫拉还不满足，她又选派一个猎人带着两只凶猛的猎犬，紧跟在大熊和小熊的后面。这个猎人就是天上的牧夫座，而他牵着的两只猎犬就是猎犬座，猎人和猎犬忠实执行神后赫拉交付的任务：紧紧看守着大熊和小熊，不停地追捕着。</p>        <h2 id="星空"   >          <a href="#星空" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#星空"></a> 星空</h2>      <p>  大熊座是北方天空中最明亮、最重要的星座之一,著名的北斗七星就在这个星座里。大熊座一年四季都能看到，春季黄昏后是观测它的最好时机。在星图上，大熊座的星星被想象为一只大熊，北斗七星的斗柄是大熊的长长的尾巴，斗勺的四颗星是大熊的身躯，另一些较暗的星构成了大熊的头和脚。<br />        <img   class="lazyload lazyload-gif"          src="/images/loading.svg" data-src="https://img.foolishfox.cn/images/2021/05/1622203030.jpg"  alt="" />      </p><p>  北斗七星从勺口到柄尾依次是天枢、天璇、天玑、天权、玉衡、开阳、摇光。前四颗组成了斗身，叫做魁；后三颗组成了斗柄，叫做杓。而开阳是一个奇特的目视双星系统，伴星叫做开阳增一（也称为辅）。后续的研究发现，开阳和辅实际上就是双星系统，开阳就被分为了开阳A（大熊座<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>ζ</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">\zeta&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07378em;">ζ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>）和开阳B（大熊座<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>ζ</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\zeta&#x27;&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.946332em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07378em;">ζ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>）。</p><p>  1989年光谱观测首先发现开阳A是分光双星，后来又发现开阳B也是分光双星，可能是三合星，所以开阳实际上是一个四合星甚至五合星系统。1996年通过极高分辨率的望远镜拍摄出开阳A的两颗子星A1和A2。<br />        <img   class="lazyload lazyload-gif"          src="/images/loading.svg" data-src="https://img.foolishfox.cn/images/2021/05/20210528194950.png"  alt="" />      <br />        <img   class="lazyload lazyload-gif"          src="/images/loading.svg" data-src="http://inews.gtimg.com/newsapp_match/0/8453683962/0.jpg"  alt="" />      </p><p>  小熊座的7颗星星也被称为小北斗，其中除<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span>是较亮的2等星外，其他都是较暗的星。因此，小熊座不如北斗七星那样耀眼，在明月之夜或大城市里就不容易看到。小熊座<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span>（勾陈一）就是现在的北极星，处于北斗七星中天枢和天璇的延长线上。<br />        <img   class="lazyload lazyload-gif"          src="/images/loading.svg" data-src="https://img.foolishfox.cn/images/2021/05/1622201708-1-.jpg"  alt="" />      </p><p>  在大熊星座的东南方向，有两个紧挨着的“邻居”：东边的是牧夫座，西边的是猎犬座。猎犬座原先是大熊座的一部份，是北天星座中的小星座。猎犬座也是最暗的星座之一，其中只有一颗三等星。<br />        <img   class="lazyload lazyload-gif"          src="/images/loading.svg" data-src="https://img.foolishfox.cn/images/2021/05/1622203502.jpg"  alt="" />      </p><p>  牧夫座的大角星是全天第四亮星，之所以叫做大角是因为它被看作是四象之一的东方苍龙的一只角。此外牧夫座还包括了8颗4等以上和21颗5等以上的亮星，其中几颗中等亮度的星构成了一个五边形，像个大风筝，而最亮的大角星就像挂在风筝下面的一盏明灯。5月下旬，沿着北斗七星斗柄几颗的曲线顺势延伸出去，画出一条大弧线，就可以在天顶附近的星空找到大角星。<br />        <img   class="lazyload lazyload-gif"          src="/images/loading.svg" data-src="https://img.foolishfox.cn/images/2021/05/1622203810.png"  alt="" />      </p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;传说&quot;   &gt;
          &lt;a href=&quot;#传说&quot; class=&quot;heading-link&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#传说&quot;&gt;&lt;/a&gt; 传说&lt;/h2&gt;
      
&lt;p&gt;  在古代希腊的神话故事中，大熊是温柔美丽的少女卡力斯托的化身。传说卡力斯托被众神之王宙斯所爱，生下了儿子阿卡斯。宙斯的妻子赫拉知道后非常气愤，她决定要用法力对卡力斯托进行惩罚，于是她把卡力斯托白暂的双臂变成了长满黑毛的利爪，娇红的双唇变成了血盆似的大口，让卡力斯托变成了一只大母熊。后来宙斯知道了，就把大熊提升到天上，成为大熊星座。&lt;/p&gt;</summary>
    
    
    
    <category term="天文" scheme="https://foolishfox.cn/categories/%E5%A4%A9%E6%96%87/"/>
    
    
    <category term="科普" scheme="https://foolishfox.cn/tags/%E7%A7%91%E6%99%AE/"/>
    
    <category term="观星" scheme="https://foolishfox.cn/tags/%E8%A7%82%E6%98%9F/"/>
    
    <category term="星座" scheme="https://foolishfox.cn/tags/%E6%98%9F%E5%BA%A7/"/>
    
  </entry>
  
  <entry>
    <title>Termux | 安装云探针</title>
    <link href="https://foolishfox.cn/posts/202105-termux-status.html"/>
    <id>https://foolishfox.cn/posts/202105-termux-status.html</id>
    <published>2021-05-28T09:11:14.000Z</published>
    <updated>2021-05-28T12:20:24.377Z</updated>
    
    <content type="html"><![CDATA[    <div class="note-plugin info">      <span class="note-plugin__icon note-plugin__icon--info">              <i class="fas fa-info-circle"></i>            </span>      <p>有关Termux的详细教程，请查看<span class="exturl"><a class="exturl__link"   href="https://www.sqlsec.com/2018/05/termux.html" >Termux 高级终端安装使用配置教程-国光</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br />以下内容可适用于其他Linux发行版</p>    </div>          <h2 id="前言"   >          <a href="#前言" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2>      <p>  ServerStatus可以实时监控服务器的网络、负载、内存占用等信息，也被称为云探针、多服务器探针、云监控、多服务器云监控，本人追溯到最早源自于<span class="exturl"><a class="exturl__link"   href="https://github.com/BotoX" >BotoX</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>的<span class="exturl"><a class="exturl__link"   href="https://github.com/BotoX/ServerStatus" >项目</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>。</p><blockquote><p>Display and monitor your servers statistics in a beatiful way</p></blockquote><span id="more"></span><p>  后人经过多位大佬的修改、汉化和美化，已经有多个版本的ServerStatus可供部署，本文采用的是由<span class="exturl"><a class="exturl__link"   href="https://github.com/CokeMine" >CokeMine</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>开发的<span class="exturl"><a class="exturl__link"   href="https://github.com/CokeMine/ServerStatus-Hotaru" >ServerStatus-Hotaru</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>版本。</p>        <h2 id="安装"   >          <a href="#安装" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#安装"></a> 安装</h2>              <h3 id="服务端"   >          <a href="#服务端" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#服务端"></a> 服务端</h3>      <ol><li>获取文件</li></ol><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/CokeMine/ServerStatus-Hotaru/master/status.sh</span><br><span class="line">chmod +x status.sh</span><br></pre></td></tr></table></div></figure><ol start="2"><li>安装服务端<br />运行<code>./status.sh s</code>，配置按推荐即可，如果服务器上有Nginx/Apache，则不需要安装Caddy，否则建议选择Y一键配置HTTP服务<br />        <img   class="lazyload lazyload-gif"          src="/images/loading.svg" data-src="https://img.foolishfox.cn/images/2021/05/20210528173613.png"  alt="" />      </li><li>添加客户端信息：打开<code>/usr/local/ServerStatus/server/config.json</code>，修改如下:</li></ol><figure class="highlight json"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;servers&quot;</span>:</span><br><span class="line"> [</span><br><span class="line">  &#123;</span><br><span class="line">   <span class="attr">&quot;username&quot;</span>: <span class="string">&quot;A&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;password&quot;</span>: <span class="string">&quot;A&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Fox Home&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;KVM&quot;</span>,  <span class="comment">// 现在一般云服务器都是KVM</span></span><br><span class="line">   <span class="attr">&quot;host&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;location&quot;</span>: <span class="string">&quot;杭州&quot;</span>,</span><br><span class="line">   <span class="attr">&quot;disabled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">   <span class="attr">&quot;region&quot;</span>: <span class="string">&quot;CN&quot;</span>   <span class="comment">// region信息在文件/usr/local/ServerStatus/region.json中</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;username&quot;</span>: <span class="string">&quot;B&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;password&quot;</span>: <span class="string">&quot;B&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Fox Lab&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;KVM&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;host&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;location&quot;</span>: <span class="string">&quot;香港&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;disabled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;region&quot;</span>: <span class="string">&quot;HK&quot;</span></span><br><span class="line">   &#125;</span><br><span class="line"> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><ol start="4"><li>启动服务端</li></ol>        <h3 id="客户端"   >          <a href="#客户端" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#客户端"></a> 客户端</h3>      <p>  运行<code>./status.sh c</code>安装客户端，配置信息按照前文服务端配置（<code>username</code>和<code>password</code>）填写即可</p>        <h2 id="其他"   >          <a href="#其他" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#其他"></a> 其他</h2>              <h3 id="termux适配"   >          <a href="#termux适配" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#termux适配"></a> Termux适配</h3>          <div class="note-plugin warning">      <span class="note-plugin__icon note-plugin__icon--warning">              <i class="fas fa-exclamation-circle"></i>            </span>      <p>Termux端不建议按照服务端</p>    </div>  <p>  从仓库中下载<span class="exturl"><a class="exturl__link"   href="https://raw.githubusercontent.com/CokeMine/ServerStatus-Hotaru/master/clients/status-client.py" >status-client.py</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>，对一下内容进行修改：</p><figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_hdd</span>():</span></span><br><span class="line">    p = subprocess.check_output([<span class="string">&#x27;df&#x27;</span>]).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="comment"># 在终端中运行df命令，查看/data对应的那一行的行号就是X+1</span></span><br><span class="line">    total = p.splitlines()[X]</span><br><span class="line">    used = <span class="built_in">int</span>(total.split()[<span class="number">2</span>])/<span class="number">1024</span></span><br><span class="line">    size = <span class="built_in">int</span>(total.split()[<span class="number">1</span>])/<span class="number">1024</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(size), <span class="built_in">int</span>(used)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_load</span>():</span></span><br><span class="line">    p = subprocess.check_output([<span class="string">&#x27;uptime&#x27;</span>]).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">round</span>(<span class="built_in">float</span>(p.split(<span class="string">&#x27;, &#x27;</span>)[<span class="number">3</span>].split(<span class="string">&#x27;: &#x27;</span>)[<span class="number">1</span>]), <span class="number">2</span>)*<span class="number">100</span></span><br><span class="line">...</span><br></pre></td></tr></table></div></figure>        <h3 id="修改前端主题"   >          <a href="#修改前端主题" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#修改前端主题"></a> 修改前端/主题</h3>      <p>  由于前端文件已经被打包过了，所以不建议直接修改格式化打包后的js/css文件，建议自行下载修改再打包，复制dist目录到服务器。</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/CokeMine/Hotaru_theme.git</span><br><span class="line"><span class="built_in">cd</span> ./Hotaru_theme &amp;&amp; npm install</span><br><span class="line"><span class="comment"># 修改完成之后</span></span><br><span class="line">npm run build</span><br></pre></td></tr></table></div></figure>        <h3 id="windows适配"   >          <a href="#windows适配" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#windows适配"></a> Windows适配</h3>      <p>  使用<span class="exturl"><a class="exturl__link"   href="https://raw.githubusercontent.com/CokeMine/ServerStatus-Hotaru/master/clients/status-psutil.py" >Psutil版</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>即可使ServerStatus客户端在Windows等平台运行</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install psutil</span><br><span class="line"><span class="comment"># 修改status-psutil.py</span></span><br><span class="line">python status-psutil.py</span><br></pre></td></tr></table></div></figure>        <h2 id="参考资料"   >          <a href="#参考资料" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h2>      <ol><li><span class="exturl"><a class="exturl__link"   href="https://github.com/CokeMine/ServerStatus-Hotaru" >ServerStatus-Hotaru</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li><li><span class="exturl"><a class="exturl__link"   href="https://www.cokemine.com/serverstatus-hotaru.html" >ServerStatus-Hotaru云探针的安装与配置</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li><li><span class="exturl"><a class="exturl__link"   href="https://github.com/CokeMine/ServerStatus-Hotaru/issues/75" >想改网页内的几个字 如何操作</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li></ol>]]></content>
    
    
    <summary type="html">&lt;div class=&quot;note-plugin info&quot;&gt;
      &lt;span class=&quot;note-plugin__icon note-plugin__icon--info&quot;&gt;
              &lt;i class=&quot;fas fa-info-circle&quot;&gt;&lt;/i&gt;
            &lt;/span&gt;
      &lt;p&gt;有关Termux的详细教程，请查看&lt;span class=&quot;exturl&quot;&gt;&lt;a class=&quot;exturl__link&quot;   href=&quot;https://www.sqlsec.com/2018/05/termux.html&quot; &gt;Termux 高级终端安装使用配置教程-国光&lt;/a&gt;&lt;span class=&quot;exturl__icon&quot;&gt;&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;以下内容可适用于其他Linux发行版&lt;/p&gt;
    &lt;/div&gt;
  

        &lt;h2 id=&quot;前言&quot;   &gt;
          &lt;a href=&quot;#前言&quot; class=&quot;heading-link&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h2&gt;
      
&lt;p&gt;  ServerStatus可以实时监控服务器的网络、负载、内存占用等信息，也被称为云探针、多服务器探针、云监控、多服务器云监控，本人追溯到最早源自于&lt;span class=&quot;exturl&quot;&gt;&lt;a class=&quot;exturl__link&quot;   href=&quot;https://github.com/BotoX&quot; &gt;BotoX&lt;/a&gt;&lt;span class=&quot;exturl__icon&quot;&gt;&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/span&gt;的&lt;span class=&quot;exturl&quot;&gt;&lt;a class=&quot;exturl__link&quot;   href=&quot;https://github.com/BotoX/ServerStatus&quot; &gt;项目&lt;/a&gt;&lt;span class=&quot;exturl__icon&quot;&gt;&lt;i class=&quot;fas fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/span&gt;。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Display and monitor your servers statistics in a beatiful way&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Termux" scheme="https://foolishfox.cn/categories/Termux/"/>
    
    
    <category term="安装" scheme="https://foolishfox.cn/tags/%E5%AE%89%E8%A3%85/"/>
    
    <category term="Python" scheme="https://foolishfox.cn/tags/Python/"/>
    
    <category term="ServerStatus" scheme="https://foolishfox.cn/tags/ServerStatus/"/>
    
  </entry>
  
  <entry>
    <title>博客成长日志 | 准实时访问统计</title>
    <link href="https://foolishfox.cn/posts/202105-visit.html"/>
    <id>https://foolishfox.cn/posts/202105-visit.html</id>
    <published>2021-05-19T16:09:37.000Z</published>
    <updated>2021-06-01T02:40:58.627Z</updated>
    
    <content type="html"><![CDATA[        <h2 id="前言"   >          <a href="#前言" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2>      <p>  通过百度统计、CNZZ等服务，我们可以记录站点的访问地图、访问量和来源，如果想要展示数据，可以选择直接导向服务商提供的公开页面，但是样式丑陋，所以本文通过百度统计API，使用Echarts制作站点访问准实时统计页面，效果可以参考<a href="/s/statistics/">统计</a>。</p><span id="more"></span><p>  之所以说是准实时统计，是因为为了解决跨域问题（CROS error），本文采用的方法是定时通过百度统计API将数据下载保存为json文件，放置在网站目录下（后续可能会发展为vercel api，挖坑）。不过作为个人博客，方式访问量不会很大，没有必要实时更新，目前本站设置是每隔6小时更新一次。</p>        <h2 id="数据获取"   >          <a href="#数据获取" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#数据获取"></a> 数据获取</h2>              <h3 id="百度统计"   >          <a href="#百度统计" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#百度统计"></a> 百度统计</h3>      <p>  在设置样式之前首先需要获取统计数据，使用百度账号登陆<span class="exturl"><a class="exturl__link"   href="https://tongji.baidu.com/web/welcome/login" >百度统计</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>，根据<a href="#refer-4">参考资料4</a>进行操作，获取token与site_id，具体教程可以查看<a href="#refer-1">参考资料1</a>。</p>        <h3 id="下载文件"   >          <a href="#下载文件" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#下载文件"></a> 下载文件</h3>      <p>  通过6个链接，我们可以获取：一年内每日访问统计、访问地图数据、月度访问统计、来源分类统计、搜索引擎访问统计和外部链接访问统计；通过python或者nodejs都可以很方便的下载文件保存，以下为python的示例：</p><figure class="highlight python"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time, datetime</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开始统计的日期</span></span><br><span class="line">start_date   = <span class="string">&#x27;20201218&#x27;</span></span><br><span class="line">date         = datetime.datetime.now()</span><br><span class="line"><span class="comment"># 结束统计的日期</span></span><br><span class="line">end_date     = <span class="built_in">str</span>(date.year) + (<span class="built_in">str</span>(date.month) <span class="keyword">if</span> date.month &gt; <span class="number">9</span> <span class="keyword">else</span> (<span class="string">&#x27;0&#x27;</span> + <span class="built_in">str</span>(date.month))) + (<span class="built_in">str</span>(date.day) <span class="keyword">if</span> date.day &gt; <span class="number">9</span> <span class="keyword">else</span> (<span class="string">&#x27;0&#x27;</span> + <span class="built_in">str</span>(date.day)))</span><br><span class="line"><span class="comment"># token和siteid</span></span><br><span class="line">access_token = <span class="string">&#x27;121.6e...&#x27;</span></span><br><span class="line">site_id      = <span class="string">&#x27;16******&#x27;</span></span><br><span class="line"><span class="comment"># 百度统计API</span></span><br><span class="line">dataUrl      = <span class="string">&#x27;https://openapi.baidu.com/rest/2.0/tongji/report/getData?access_token=&#x27;</span> + access_token + <span class="string">&#x27;&amp;site_id=&#x27;</span> + site_id</span><br><span class="line"><span class="comment"># 统计访问次数 PV 填写 &#x27;pv_count&#x27;，统计访客数 UV 填写 &#x27;visitor_count&#x27;，二选一</span></span><br><span class="line">metrics      = <span class="string">&#x27;pv_count&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">downFile</span>(<span class="params">url, fileName, prefix=<span class="string">&#x27;/home/API/data/&#x27;</span></span>):</span></span><br><span class="line">    print(<span class="string">&#x27;downloading :&#x27;</span>, url)</span><br><span class="line">    down_res = requests.get(url)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(prefix+fileName, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(down_res.content)</span><br><span class="line">    print(<span class="string">&#x27;writing :&#x27;</span>, prefix+fileName)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 访客地图</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=visit/district/a&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;map.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问趋势</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=trend/time/a&amp;gran=month&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;trends.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问来源</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=source/all/a&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;sources.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 搜索引擎</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=source/engine/a&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;engine.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 外部链接</span></span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;method=source/link/a&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;link.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问日历</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">访问日历需要获取一年内的数据，按照一年365天计算，大概为52周多一点，所以前面有完整的52排，获取方式只要通过开始日期年份-1即可</span></span><br><span class="line"><span class="string">然后就是第53排的处理，python中的date.weekday()获取的星期几是0对应周一，所以通过(date.weekday()+1)%7即可转换到0对应周日</span></span><br><span class="line"><span class="string">于是在52周的基础上，减去星期数，就可以得到新的start_date</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">date       = datetime.datetime(date.year-<span class="number">1</span>, date.month, date.day)</span><br><span class="line">date       = datetime.datetime.fromtimestamp(date.timestamp()-<span class="number">3600</span>*<span class="number">24</span>*((date.weekday()+<span class="number">1</span>)%<span class="number">7</span>))</span><br><span class="line">start_date = <span class="built_in">str</span>(date.year) + (<span class="built_in">str</span>(date.month) <span class="keyword">if</span> date.month &gt; <span class="number">9</span> <span class="keyword">else</span> (<span class="string">&#x27;0&#x27;</span> + <span class="built_in">str</span>(date.month))) + (<span class="built_in">str</span>(date.day) <span class="keyword">if</span> date.day &gt; <span class="number">9</span> <span class="keyword">else</span> (<span class="string">&#x27;0&#x27;</span> + <span class="built_in">str</span>(date.day)))</span><br><span class="line">downFile(dataUrl + <span class="string">&#x27;&amp;method=overview/getTimeTrendRpt&#x27;</span> + <span class="string">&#x27;&amp;metrics=&#x27;</span> + metrics + <span class="string">&#x27;&amp;start_date=&#x27;</span> + start_date + <span class="string">&#x27;&amp;end_date=&#x27;</span> + end_date,</span><br><span class="line">    <span class="string">&#x27;calendar.json&#x27;</span>)</span><br></pre></td></tr></table></div></figure>        <h3 id="自动更新"   >          <a href="#自动更新" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#自动更新"></a> 自动更新</h3>      <p>  在Linux中可以通过<code>crontab</code>设置定时任务，以下为每整6小时的0点执行一次任务：</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0 0 * * * /usr/bin/python /home/API/data/get.py &gt;&gt; /home/API/data/get.log</span><br><span class="line">0 6 * * * /usr/bin/python /home/API/data/get.py &gt;&gt; /home/API/data/get.log</span><br><span class="line">0 12 * * * /usr/bin/python /home/API/data/get.py &gt;&gt; /home/API/data/get.log</span><br><span class="line">0 18 * * * /usr/bin/python /home/API/data/get.py &gt;&gt; /home/API/data/get.log</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">0 0,6,12,18 * * * /usr/bin/python /home/API/data/get.py &gt;&gt; /home/API/data/get.log</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">0 */6 * * * /usr/bin/python /home/API/data/get.py &gt;&gt; /home/API/data/get.log</span><br></pre></td></tr></table></div></figure>        <h2 id="数据展示"   >          <a href="#数据展示" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#数据展示"></a> 数据展示</h2>              <h3 id="统计图容器"   >          <a href="#统计图容器" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#统计图容器"></a> 统计图容器</h3>      <p>  在html代码中插入：</p><figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/echarts@4.7.0/dist/echarts.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/echarts@4.7.0/map/js/china.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;max-width: 90%;margin: 0 auto;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;calendar_container&quot;</span> <span class="attr">class</span>=<span class="string">&quot;data-container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;map_container&quot;</span> <span class="attr">class</span>=<span class="string">&quot;data-container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 500px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;trends_container&quot;</span> <span class="attr">class</span>=<span class="string">&quot;data-container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 350px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;sources_container&quot;</span> <span class="attr">class</span>=<span class="string">&quot;data-container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 450px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/calendar.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/census.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></div></figure>        <h3 id="访问日历"   >          <a href="#访问日历" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#访问日历"></a> 访问日历</h3>      <p>  访问日历类似于Github贡献日历，有两种方法实现。</p><ol><li>源自于<span class="exturl"><a class="exturl__link"   href="https://zfe.space/post/hexo-githubcalendar.html" >hexo-githubcalendar 插件</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>，由<span class="exturl"><a class="exturl__link"   href="https://blog.eurkon.com/" >Eurkon</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>修改，原文见<a href="#refer-3">参考资料3</a>。点击<span class="exturl"><a class="exturl__link"   href="https://github.com/YiHui-Liu/Fox-Home-CDN/blob/5eadc9f050b9d759dc14786085253b000049b7de/calendar.js" >链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>下载<code>calendar.js</code>文件，需要修改的地方有：</li></ol><figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 下面的链接是本站点的访问数据，需要修改为自己的，为了防止浏览器缓存的干扰，在url后添加了时间戳，可以进一步优化为时间的小时数对6取模</span></span><br><span class="line">fetch(<span class="string">&#x27;https://api.foolishfox.cn/data/calendar.json?date&#x27;</span>+<span class="keyword">new</span> <span class="built_in">Date</span>()).then(<span class="function"><span class="params">data</span> =&gt;</span> data.json()).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">...</span><br><span class="line"><span class="comment">// 统计访问次数 PV 填写 &#x27;pv_count&#x27;，统计访客数 UV 填写 &#x27;visitor_count&#x27;，二选一</span></span><br><span class="line">visit_calendar(<span class="string">&#x27;pv_count&#x27;</span>, visit_color);</span><br><span class="line">...</span><br></pre></td></tr></table></div></figure><p>  另外，需要更改容器id可以直接搜索替换即可。</p><ol start="2"><li>通过<span class="exturl"><a class="exturl__link"   href="https://cdn.jsdelivr.net/gh/YiHui-Liu/Fox-Home-CDN/census.js" >census.js</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>进行设置，包括后续的访问地图、访问趋势（访问次数）和访问来源都是基于此文件通过Echarts实现的。</li></ol><figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 统计访问次数 PV 填写 &#x27;pv_count&#x27;，统计访客数 UV 填写 &#x27;visitor_count&#x27;，二选一</span></span><br><span class="line"><span class="keyword">var</span> metrics     = <span class="string">&#x27;pv_count&#x27;</span></span><br><span class="line"><span class="keyword">var</span> metricsName = (metrics === <span class="string">&#x27;pv_count&#x27;</span> ? <span class="string">&#x27;访问次数&#x27;</span> : (metrics === <span class="string">&#x27;visitor_count&#x27;</span> ? <span class="string">&#x27;访客数&#x27;</span> : <span class="string">&#x27;&#x27;</span>))</span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calChart</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">&quot;script&quot;</span>)</span><br><span class="line">    <span class="comment">// 下面的链接是本站点的访问数据，需要修改为自己的，为了防止浏览器缓存的干扰，在url后添加了时间戳，可以进一步优化为时间的小时数对6取模</span></span><br><span class="line">    fetch(<span class="string">&#x27;https://api.foolishfox.cn/data/calendar.json?date&#x27;</span>+<span class="keyword">new</span> <span class="built_in">Date</span>()).then(<span class="function"><span class="params">data</span> =&gt;</span> data.json()).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">        <span class="comment">// 颜色盒，用于设置不同数据的展示颜色，可更改</span></span><br><span class="line">        <span class="keyword">let</span> colorBox = [<span class="string">&#x27;#EBEDF0&#x27;</span>, <span class="string">&#x27;#FFE9BB&#x27;</span>, <span class="string">&#x27;#FFD1A7&#x27;</span>, <span class="string">&#x27;#FFBB95&#x27;</span>, <span class="string">&#x27;#FFA383&#x27;</span>, <span class="string">&#x27;#FF8D70&#x27;</span>, <span class="string">&#x27;#FF745C&#x27;</span>, <span class="string">&#x27;#FF5C4A&#x27;</span>, <span class="string">&#x27;#FF4638&#x27;</span>, <span class="string">&#x27;#FF2E26&#x27;</span>, <span class="string">&#x27;#FF1812&#x27;</span>];</span><br></pre></td></tr></table></div></figure>        <h3 id="访问地图"   >          <a href="#访问地图" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#访问地图"></a> 访问地图</h3>      <p>  最简单的就是访问地图，直接修改json文件的请求url即可：</p><figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 访问地图</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapChart</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">&quot;script&quot;</span>)</span><br><span class="line">    <span class="comment">// 下面的链接是本站点的访问数据，需要修改为自己的，为了防止浏览器缓存的干扰，在url后添加了时间戳，可以进一步优化为时间的小时数对6取模</span></span><br><span class="line">    fetch(<span class="string">&#x27;https://api.foolishfox.cn/data/map.json?date&#x27;</span>+<span class="keyword">new</span> <span class="built_in">Date</span>()).then(<span class="function"><span class="params">data</span> =&gt;</span> data.json()).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br></pre></td></tr></table></div></figure>        <h3 id="访问趋势"   >          <a href="#访问趋势" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#访问趋势"></a> 访问趋势</h3>      <p>  访问趋势中按照年份，将12个月的数据展开，需要从json中获取到年份和月份信息，由于时间日期格式是固定的，所以可以直接截取。本部分代码以下列展示的为准：</p><figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取年份和月份</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_year</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(s.substr(<span class="number">0</span>, <span class="number">4</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_month</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(s.substr(<span class="number">5</span>, <span class="number">2</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 访问趋势</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trendsChart</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">&quot;script&quot;</span>)</span><br><span class="line">    <span class="comment">// 下面的链接是本站点的访问数据，需要修改为自己的，为了防止浏览器缓存的干扰，在url后添加了时间戳，可以进一步优化为时间的小时数对6取模</span></span><br><span class="line">    fetch(<span class="string">&#x27;https://api.foolishfox.cn/data/trends.json?date&#x27;</span>+<span class="keyword">new</span> <span class="built_in">Date</span>()).then(<span class="function"><span class="params">data</span> =&gt;</span> data.json()).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">        <span class="keyword">let</span> monthValueArr = &#123;&#125;;</span><br><span class="line">        <span class="keyword">let</span> monthName = data.result.items[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">let</span> monthValue = data.result.items[<span class="number">1</span>];</span><br><span class="line">        <span class="comment">// 2020是起始年份，改为你自己的</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i =<span class="number">2020</span>; i &lt;= date.getFullYear(); i++)   monthValueArr[<span class="built_in">String</span>(i)] = [ ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ];</span><br><span class="line">        monthValueArr</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; monthName.length; i++) &#123;</span><br><span class="line">            <span class="keyword">let</span> year = get_year(monthName[i][<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">let</span> month = get_month(monthName[i][<span class="number">0</span>]);</span><br><span class="line">            monthValueArr[<span class="built_in">String</span>(year)][<span class="built_in">String</span>(month-<span class="number">1</span>)] = monthValue[i][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 以后每过一年，需要手动添加以下legend和series</span></span><br><span class="line">        script.innerHTML = <span class="string">`</span></span><br><span class="line"><span class="string">        var trendsChart = echarts.init(document.getElementById(&#x27;trends_container&#x27;), &#x27;light&#x27;);</span></span><br><span class="line"><span class="string">        var trendsOption = &#123;</span></span><br><span class="line"><span class="string">            title: &#123; text: &#x27;访问趋势&#x27;, x: &#x27;center&#x27; &#125;,</span></span><br><span class="line"><span class="string">            tooltip: &#123; trigger: &#x27;axis&#x27; &#125;,</span></span><br><span class="line"><span class="string">            legend: &#123; data: [&#x27;2020&#x27;, &#x27;2021&#x27;], x: &#x27;right&#x27; &#125;,</span></span><br><span class="line"><span class="string">            xAxis: &#123;</span></span><br><span class="line"><span class="string">                name: &#x27;日期&#x27;, type: &#x27;category&#x27;, boundaryGap: false,</span></span><br><span class="line"><span class="string">                data: [&#x27;一月&#x27;, &#x27;二月&#x27;, &#x27;三月&#x27;, &#x27;四月&#x27;, &#x27;五月&#x27;, &#x27;六月&#x27;, &#x27;七月&#x27;, &#x27;八月&#x27;, &#x27;九月&#x27;, &#x27;十月&#x27;, &#x27;十一月&#x27;, &#x27;十二月&#x27;]</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            yAxis: &#123; name: &#x27;<span class="subst">$&#123;metricsName&#125;</span>&#x27;, type: &#x27;value&#x27; &#125;,</span></span><br><span class="line"><span class="string">            series: [</span></span><br><span class="line"><span class="string">                &#123;</span></span><br><span class="line"><span class="string">                    name: &#x27;2020&#x27;, type: &#x27;line&#x27;, smooth: true,</span></span><br><span class="line"><span class="string">                    data: [<span class="subst">$&#123;monthValueArr[<span class="string">&quot;2020&quot;</span>]&#125;</span>],</span></span><br><span class="line"><span class="string">                    markLine: &#123; data: [&#123;type: &#x27;average&#x27;, name: &#x27;平均值&#x27;&#125;] &#125;</span></span><br><span class="line"><span class="string">                &#125;,</span></span><br><span class="line"><span class="string">                &#123;</span></span><br><span class="line"><span class="string">                    name: &#x27;2021&#x27;, type: &#x27;line&#x27;, smooth: true,</span></span><br><span class="line"><span class="string">                    data: [<span class="subst">$&#123;monthValueArr[<span class="string">&quot;2021&quot;</span>]&#125;</span>],</span></span><br><span class="line"><span class="string">                    markLine: &#123; data: [&#123;type: &#x27;average&#x27;, name: &#x27;平均值&#x27;&#125;] &#125;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            ]</span></span><br><span class="line"><span class="string">        &#125;;</span></span><br><span class="line"><span class="string">        trendsChart.setOption(trendsOption);</span></span><br><span class="line"><span class="string">        window.addEventListener(&quot;resize&quot;, () =&gt; &#123; </span></span><br><span class="line"><span class="string">            trendsChart.resize();</span></span><br><span class="line"><span class="string">        &#125;);`</span></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">&#x27;trends_container&#x27;</span>).after(script);</span><br><span class="line">    &#125;).catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>        <h3 id="访问来源"   >          <a href="#访问来源" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#访问来源"></a> 访问来源</h3>      <p>  留在最后的是最复杂的访问来源，实际上百度的全部来源(<code>source/all/a</code>)API可以将来源分为：直达、外部链接和搜索引擎三个部分，直接使用并不困难。但是百度统计会将必应（<code>cn.bing.com</code>和<code>www.bing.com</code>）的来源归类到外部链接而不是搜索引擎，而且我自己还想统计来自于Github、十年之约等网站的流量，所以需要获取多个数据文件。</p><figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// 下面的链接是本站点的访问数据，需要修改为自己的，为了防止浏览器缓存的干扰，在url后添加了时间戳，可以进一步优化为时间的小时数对6取模</span></span><br><span class="line">fetch(<span class="string">&#x27;https://api.foolishfox.cn/data/sources.json?date&#x27;</span>+<span class="keyword">new</span> <span class="built_in">Date</span>()).then(<span class="function"><span class="params">data</span> =&gt;</span> data.json()).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> sourcesName = data.result.items[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> sourcesValue = data.result.items[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">let</span> sourcesArr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; sourcesName.length; i++)</span><br><span class="line">        sourcesArr.push(&#123; <span class="attr">name</span>: sourcesName[i][<span class="number">0</span>].name, <span class="attr">value</span>: sourcesValue[i][<span class="number">0</span>] &#125;);</span><br><span class="line">    <span class="comment">// 记录总体数据，方便后续调用（使用var定义在fetch外面）</span></span><br><span class="line">    link = sourcesArr[<span class="number">1</span>][<span class="string">&#x27;value&#x27;</span>] ;</span><br><span class="line">    search = sourcesArr[<span class="number">2</span>][<span class="string">&#x27;value&#x27;</span>];</span><br><span class="line">    direct = sourcesArr[<span class="number">0</span>][<span class="string">&#x27;value&#x27;</span>];</span><br><span class="line">...</span><br><span class="line"><span class="comment">// 下面的链接是本站点的访问数据，需要修改为自己的，为了防止浏览器缓存的干扰，在url后添加了时间戳，可以进一步优化为时间的小时数对6取模</span></span><br><span class="line">fetch(<span class="string">&#x27;https://api.foolishfox.cn/data/link.json?date&#x27;</span>+<span class="keyword">new</span> <span class="built_in">Date</span>()).then(<span class="function"><span class="params">data</span> =&gt;</span> data.json()).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> linksName = data.result.items[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> linksValue = data.result.items[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">let</span> linksArr = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; linksName.length; i++)</span><br><span class="line">        linksArr[linksName[i][<span class="number">0</span>].name] = linksValue[i][<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// 除必应外，其他的都是自己想要统计的网站，都是http链接</span></span><br><span class="line">    <span class="keyword">let</span> sum = data.result.sum[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> bing = linksArr[<span class="string">&#x27;http://cn.bing.com&#x27;</span>]+linksArr[<span class="string">&#x27;http://www.bing.com&#x27;</span>];</span><br><span class="line">    <span class="keyword">let</span> github = linksArr[<span class="string">&#x27;http://github.com&#x27;</span>];</span><br><span class="line">    <span class="keyword">let</span> travel = linksArr[<span class="string">&#x27;http://travellings.now.sh&#x27;</span>]+linksArr[<span class="string">&#x27;http://travellings.vercel.app&#x27;</span>]+linksArr[<span class="string">&#x27;http://www.foreverblog.cn&#x27;</span>];</span><br><span class="line">    innerHTML += <span class="string">`</span></span><br><span class="line"><span class="string">                    &#123;value: <span class="subst">$&#123;bing&#125;</span>, name: &#x27;必应&#x27;&#125;,</span></span><br><span class="line"><span class="string">                    &#123;value: <span class="subst">$&#123;direct&#125;</span>, name: &#x27;直达&#x27;&#125;,</span></span><br><span class="line"><span class="string">                    &#123;value: <span class="subst">$&#123;github&#125;</span>, name: &#x27;Github&#x27;&#125;,</span></span><br><span class="line"><span class="string">                    &#123;value: <span class="subst">$&#123;travel&#125;</span>, name: &#x27;开往/十年之约&#x27;&#125;,`</span>+</span><br><span class="line">                    <span class="comment">// 将来自于必应的访问减去</span></span><br><span class="line">                    <span class="string">`&#123;value: <span class="subst">$&#123;sum-bing-github-travel+<span class="number">65</span>&#125;</span>, name: &#x27;其他&#x27;&#125;</span></span><br><span class="line"><span class="string">                ]</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                name: &#x27;访问来源&#x27;, type: &#x27;pie&#x27;, selectedMode: &#x27;single&#x27;, radius: [0, &#x27;30%&#x27;],</span></span><br><span class="line"><span class="string">                label: &#123; position: &#x27;inner&#x27;, fontSize: 14&#125;,</span></span><br><span class="line"><span class="string">                labelLine: &#123; show: false &#125;,</span></span><br><span class="line"><span class="string">                data: [`</span>+</span><br><span class="line">                    <span class="comment">// 将来自于必应的访问从外链中减去，加入搜索中</span></span><br><span class="line">                    <span class="string">`&#123;value: <span class="subst">$&#123;search+bing&#125;</span>, name: &#x27;搜索&#x27;, itemStyle: &#123; color : &#x27;green&#x27; &#125;&#125;,</span></span><br><span class="line"><span class="string">                    &#123;value: <span class="subst">$&#123;direct&#125;</span>, name: &#x27;直达&#x27;, itemStyle: &#123; color : &#x27;#FFDB5C&#x27; &#125;&#125;,</span></span><br><span class="line"><span class="string">                    &#123;value: <span class="subst">$&#123;link-bing&#125;</span>, name: &#x27;外链&#x27;, itemStyle: &#123; color : &#x27;#32C5E9&#x27; &#125;&#125;</span></span><br><span class="line"><span class="string">                ]</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">        ]</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></div></figure>        <h2 id="qa"   >          <a href="#qa" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#qa"></a> Q&amp;A</h2>      <ol><li><p>不想使用python下载文件保存，想要实时统计<br />根据<a href="#refer-2">参考资料2</a>中4.3节——自建 Vercel API（可选）进行设置，替换上述文件中的url即可</p></li><li><p>依然出现跨域问题？<br />请务必保证通过2.2节获取的文件保存在博客的网站目录下，并通过url可以访问；如果想要向我一样通过其他域名（例如<code>api.foolishfox.cn/data/*.json</code>）访问，需要对服务器进行设置，以Nginx为例：</p></li></ol><figure class="highlight nginx"><figcaption><span>configuration</span></figcaption><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#data CROS</span></span><br><span class="line"><span class="attribute">location</span> <span class="regexp">~ ^/data/</span> &#123;</span><br><span class="line">    <span class="attribute">if</span> ($http_origin <span class="regexp">~* (http://localhost:4000|https://foolishfox.cn))</span> &#123;</span><br><span class="line">        <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span> <span class="string">&quot;$http_origin&quot;</span>;</span><br><span class="line">        <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Credentials&#x27;</span> <span class="string">&#x27;true&#x27;</span>;</span><br><span class="line">        <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span> <span class="string">&#x27;GET, POST, OPTIONS&#x27;</span>;</span><br><span class="line">        <span class="attribute">add_header</span> <span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span> <span class="string">&#x27;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure><ol start="3"><li><p>地图显示错误<br />务必注意，Echarts目前已经不提供地图js/json文件的下载，所以要通过npm获取到旧版本中的<code>China.js</code>文件，因此Echarts的版本最好也保持一致</p></li><li><p>Echarts绘制的访问日历无法自动适应窗口大小<br />正在积极解决中…</p></li></ol>        <h2 id="更新"   >          <a href="#更新" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#更新"></a> 更新</h2>      <ol><li>2021.6.1：访问趋势中第23行代码应改为：</li></ol><figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">monthValueArr[<span class="built_in">String</span>(year)][<span class="built_in">String</span>(month-<span class="number">1</span>)] = monthValue[i][<span class="number">0</span>] === <span class="string">&#x27;--&#x27;</span> ? <span class="number">0</span> : monthValue[i][<span class="number">0</span>];</span><br></pre></td></tr></table></div></figure>        <h2 id="参考资料"   >          <a href="#参考资料" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h2>      <p><span id="refer-1">1. <span class="exturl"><a class="exturl__link"   href="https://blog.eurkon.com/post/ef1da941.html" >Hexo 博客访问统计图</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></span><br /><span id="refer-2">2. <span class="exturl"><a class="exturl__link"   href="https://blog.eurkon.com/post/61763977.html" >Hexo 博客实时访问统计图</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></span><br /><span id="refer-3">3. <span class="exturl"><a class="exturl__link"   href="https://blog.eurkon.com/post/1a169b5a.html" >Hexo 博客访问日历图</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></span><br /><span id="refer-4">4. <span class="exturl"><a class="exturl__link"   href="https://tongji.baidu.com/api/manual/" >百度统计用户手册</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></span><br /><span id="refer-5">5. <span class="exturl"><a class="exturl__link"   href="https://echarts.apache.org/examples/zh/index.html" >Echarts文档</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></span></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;前言&quot;   &gt;
          &lt;a href=&quot;#前言&quot; class=&quot;heading-link&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h2&gt;
      
&lt;p&gt;  通过百度统计、CNZZ等服务，我们可以记录站点的访问地图、访问量和来源，如果想要展示数据，可以选择直接导向服务商提供的公开页面，但是样式丑陋，所以本文通过百度统计API，使用Echarts制作站点访问准实时统计页面，效果可以参考&lt;a href=&quot;/s/statistics/&quot;&gt;统计&lt;/a&gt;。&lt;/p&gt;</summary>
    
    
    
    <category term="博客成长日志" scheme="https://foolishfox.cn/categories/%E5%8D%9A%E5%AE%A2%E6%88%90%E9%95%BF%E6%97%A5%E5%BF%97/"/>
    
    
    <category term="Hexo" scheme="https://foolishfox.cn/tags/Hexo/"/>
    
    <category term="Echarts" scheme="https://foolishfox.cn/tags/Echarts/"/>
    
    <category term="百度统计" scheme="https://foolishfox.cn/tags/%E7%99%BE%E5%BA%A6%E7%BB%9F%E8%AE%A1/"/>
    
  </entry>
  
</feed>
